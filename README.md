# 供应商爬虫

一个功能强大的国际站供应商数据爬取工具，支持关键词搜索和分类搜索，具备GUI界面和详细的日志记录功能。

## 功能特性

### 🎯 核心功能
- **关键词搜索**: 支持自定义关键词搜索供应商
- **分类搜索**: 支持按产品分类搜索供应商
- **数据提取**: 自动提取供应商基本信息和执照信息
- **GUI界面**: 友好的图形用户界面，操作简单

### 📊 数据管理
- **数据库存储**: 使用SQLite数据库存储供应商数据
- **数据导出**: 支持导出Excel格式的供应商数据
- **重复检测**: 自动跳过重复的供应商数据
- **数据统计**: 实时显示数据库统计信息

### 🔍 高级功能
- **代理支持**: 支持HTTP代理，可配置代理服务器
- **并发控制**: 可调节并发线程数和批次间隔
- **IP检测**: 支持IP变化检测功能
- **详细日志**: 完整的爬取过程日志记录

### 📁 文件管理
- **执照提取**: 自动提取和保存供应商执照图片
- **分类保存**: 按分类自动保存供应商文件
- **日志管理**: 支持日志过滤、保存和清空

## 安装和使用

### 环境要求
- Python 3.7+
- 依赖包：tkinter, aiohttp, requests, pandas, sqlite3

### 快速开始
1. 克隆仓库
```bash
git clone https://github.com/lsg1998/albb.git
cd albb
```

2. 安装依赖
```bash
pip install aiohttp requests pandas
```

3. 运行程序
```bash
python alibaba_crawler_gui.py
```

## 界面说明

### 数据库列表
- 显示所有已获取的供应商数据
- 支持按状态筛选（全部/已成功/未提取/已识别）
- 支持搜索和导出功能

### 获取供应商
- **搜索类型**: 关键词搜索或分类搜索
- **页面范围**: 设置爬取的页面范围
- **高级设置**: 并发线程数、批次间隔、IP检测等
- **获取日志**: 实时显示爬取过程和详细信息

### 执照提取
- **一键提取**: 批量提取所有供应商的执照信息
- **手动设置**: 可调节线程数和批次间隔
- **日志管理**: 完整的提取过程日志

### 代理管理
- **代理配置**: 添加和管理HTTP代理
- **代理测试**: 测试代理连接状态
- **代理切换**: 快速切换不同代理

## 配置说明

### 代理配置
程序支持HTTP代理格式：
```
http://username:password@host:port
```

### 分类数据
程序会自动加载 `cary.json` 文件中的分类数据，包含42个产品分类。

### 数据库
- 主数据库：`alibaba_supplier_data.db`
- 供应商表：`suppliers`
- 执照表：`licenses`
- 执照信息表：`license_info`

## 文件结构

```
alibaba/
├── alibaba_crawler_gui.py      # 主程序GUI
├── alibaba_supplier_crawler.py # 爬虫核心逻辑
├── cary.json                   # 分类数据
├── alibaba_supplier_data.db    # 数据库文件
├── result/                     # 结果文件目录
├── license_files/              # 执照文件目录
└── README.md                   # 项目说明
```

## 注意事项

1. **合规使用**: 请遵守的使用条款和robots.txt
2. **频率控制**: 建议适当设置批次间隔，避免请求过于频繁
3. **代理使用**: 如需使用代理，请确保代理服务器稳定可靠
4. **数据备份**: 定期备份数据库文件，避免数据丢失

## 更新日志

### v1.0.0
- 初始版本发布
- 支持关键词和分类搜索
- 完整的GUI界面
- 数据库存储和导出功能
- 执照提取功能

## 许可证

本项目仅供学习和研究使用，请勿用于商业用途。

## 贡献

欢迎提交Issue和Pull Request来改进这个项目。

## 联系方式

- GitHub: [lsg1998](https://github.com/lsg1998)
- 项目地址: [albb](https://github.com/lsg1998/albb.git)
